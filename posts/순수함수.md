---
title: 순수함수란?
description: 불변성과 사이드이펙트
date: "2023-04-05"
category: react
published: true
tags: ["순수함수", "사이드이펙트"]
---

# 순수함수

순수함수란 입력값에 대해 항상 동일한 출력값을 반환하며, 함수 외부의 상태를 변경하지 않는 함수를 의미한다. 이러한 함수는 불변성이며, 사이드 이펙트를 갖지 않는다.

## 불변성

불변성은 객체나 값의 상태가 변경되지 않음을 의미한다. 리액트에서 불변성을 지켜야 하는 이유는 리액트가 상태 업데이트를 하는 원리에 이유가 있다. </br>

리액트에서 배열이나 객체를 비교할 때, 속성 하나하나 모두 비교하는 것이 아니라 이전 참조값과 현재 참조값만을 비교하여 상태 변화를 감지한다. 즉 얕은 비교만을 수행하여 상태 변화를 감지하는데, 자바스크립트의 배열이나 객체는 참조형 데이터로 얕은 비교를 하면 전 후 차이를 감지할 수 없다. 따라서 _불변성을 지켜줌으로써 리액트는 상태 변화를 감지할 수 있다._

## 사이드이펙트

불변성을 지켜줌으로 얻는 또 다른 이점은 사이드 이펙트를 방지하는 것이다. </br>

사이드 이펙트란 함수 외부의 상태를 변경하는 것으로, 예를 들어 파일을 읽거나 쓰거나, 데이터베이스를 쿼리하거나, 네트워크 통신을 하는 것이 모두 사이드 이펙트이다. </br>

이러한 사이드 이펙트가 외부의 값을 함부로 변경할 수 있다면 해당 원본 데이터를 또 다른 곳에서 사용 하는 경우, 내가 모르는 곳에서 사이드 이펙트가 발생하기 때문에 리액트는 불변성을 유지함으로 사이드 이펙트를 방지해야 한다.

## 결론

리액트는 상태의 전 후를 얕은 비교하여 다른 부분을 렌더링 하므로, 순수함수를 만들어서 불변성을 지키고 사이드이펙트를 방지해야 한다. </br>

리액트에서 순수함수를 만드는 예시로는 컴포넌트 함수를 들 수 있다. 컴포넌트 함수는 입력값으로 props와 state를 받아들이고, JSX 형태의 UI를 반환한다. 컴포넌트 함수는 입력값을 변경하지 않으며, 함수 외부의 상태를 변경하지 않으므로 순수함수 이다. </br>

순수함수로 작성된 컴포넌트 함수는 결과를 예측하기 쉽고, 재사용성이 높아지므로 순수함수로 작성되는 것을 권장한다.
